# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  â–‘â–’â–“ TELEMETRY.EXE â€” SYSTEM METRICS ENGINE â–“â–’â–‘         â•‘
# â•‘  Matrix Profile Automation :: lowlighter/metrics       â•‘
# â•‘  "I know kung fu... and your commit history" ğŸ“Š        â•‘
# â•‘                                                        â•‘
# â•‘  REQUIRES: METRICS_TOKEN secret (PAT with read:user)   â•‘
# â•‘  Generates ALL metric SVGs in one workflow run.         â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

name: "ğŸ“¡ [MATRIX] telemetry.exe --deep-scan"

on:
  # â”œâ”€ cron: scan telemetry every 12h
  schedule:
    - cron: "0 */12 * * *"
  # â””â”€ manual override: force scan
  workflow_dispatch:

jobs:
  deep-scan-telemetry:
    name: "ğŸ“¡ Running telemetry deep-scan"
    runs-on: ubuntu-latest
    timeout-minutes: 20
    permissions:
      contents: write

    steps:
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # [0x01] STATS OVERVIEW
      # â””â”€ output: metrics/github-stats.svg
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: "â–‘â–’â–“ [0x01] Extracting system stats â–“â–’â–‘"
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          user: zephir0
          filename: metrics/github-stats.svg
          base: header, activity, community, repositories
          base_indepth: yes
          config_display: large
          config_timezone: Europe/Warsaw
          config_order: base.header, base.activity+community, base.repositories
          plugin_notable: no
          extras_css: |
            * { color: #00FF41 !important; }
            h2 { color: #00FF41 !important; }
            svg { background-color: #0d1117; }
            .field { color: #00FF41 !important; }

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # [0x02] LANGUAGES (the ONE definitive chart)
      # â””â”€ output: metrics/languages.svg
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: "â–‘â–’â–“ [0x02] Scanning language arsenal â–“â–’â–‘"
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          user: zephir0
          filename: metrics/languages.svg
          base: ""
          plugin_languages: yes
          plugin_languages_indepth: yes
          plugin_languages_details: bytes-size, percentage, lines
          plugin_languages_sections: most-used
          plugin_languages_limit: 8
          plugin_languages_colors: "0:#00FF41, 1:#00CC33, 2:#009926, 3:#006619, 4:#00330D, 5:#003B00, 6:#141414, 7:#0d1117"
          plugin_languages_threshold: 2%
          config_timezone: Europe/Warsaw
          extras_css: |
            * { color: #00FF41 !important; }
            svg { background-color: #0d1117; }

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # [0x03] CODING HABITS & PRODUCTIVE TIME
      # â””â”€ output: metrics/habits.svg
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: "â–‘â–’â–“ [0x03] Analyzing coding habits â–“â–’â–‘"
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          user: zephir0
          filename: metrics/habits.svg
          base: ""
          plugin_habits: yes
          plugin_habits_from: 200
          plugin_habits_days: 30
          plugin_habits_charts: yes
          plugin_habits_charts_type: classic
          config_timezone: Europe/Warsaw
          extras_css: |
            * { color: #00FF41 !important; }
            svg { background-color: #0d1117; }

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # [0x04] ISOCALENDAR â€” full year heatmap
      # â””â”€ output: metrics/isocalendar.svg
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: "â–‘â–’â–“ [0x04] Rendering isocalendar matrix â–“â–’â–‘"
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          user: zephir0
          filename: metrics/isocalendar.svg
          base: ""
          plugin_isocalendar: yes
          plugin_isocalendar_duration: full-year
          config_timezone: Europe/Warsaw
          extras_css: |
            * { color: #00FF41 !important; }
            svg { background-color: #0d1117; }

      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      # [0x05] PROFILE DETAILS â€” bio + intro card
      # â””â”€ output: metrics/profile-details.svg
      # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      - name: "â–‘â–’â–“ [0x05] Generating profile card â–“â–’â–‘"
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          user: zephir0
          filename: metrics/profile-details.svg
          base: header
          base_indepth: yes
          config_display: large
          config_timezone: Europe/Warsaw
          plugin_introduction: yes
          plugin_introduction_title: no
          extras_css: |
            * { color: #00FF41 !important; }
            svg { background-color: #0d1117; }
